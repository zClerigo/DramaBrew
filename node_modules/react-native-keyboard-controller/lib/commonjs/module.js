"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.KeyboardController = void 0;
var _bindings = require("./bindings");
let isClosed = false;
let lastEvent = null;
_bindings.KeyboardEvents.addListener("keyboardDidHide", e => {
  isClosed = true;
  lastEvent = e;
});
_bindings.KeyboardEvents.addListener("keyboardDidShow", e => {
  isClosed = false;
  lastEvent = e;
});
const dismiss = async ({
  keepFocus
} = {
  keepFocus: false
}) => {
  return new Promise(resolve => {
    if (isClosed) {
      resolve();
      return;
    }
    const subscription = _bindings.KeyboardEvents.addListener("keyboardDidHide", () => {
      resolve(undefined);
      subscription.remove();
    });
    _bindings.KeyboardControllerNative.dismiss(keepFocus);
  });
};
const isVisible = () => !isClosed;
const state = () => lastEvent;
const KeyboardController = exports.KeyboardController = {
  setDefaultMode: _bindings.KeyboardControllerNative.setDefaultMode,
  setInputMode: _bindings.KeyboardControllerNative.setInputMode,
  setFocusTo: _bindings.KeyboardControllerNative.setFocusTo,
  dismiss,
  isVisible,
  state
};
//# sourceMappingURL=module.js.map